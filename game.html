<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мини-игра: Тапай и зарабатывай!</title>
    <style>
        /* Стили для страницы игры */
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #fff;
            margin: 0;
            padding: 0;
            overflow: hidden;
            text-align: center;
        }

        h1 {
            color: #FF69B4;
            font-size: 36px;
        }

        .game-area {
            position: relative;
            height: 80vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .tap-target {
            width: 100px;
            height: 100px;
            background-color: #FFD700;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            margin-bottom: 20px;
            transition: transform 0.2s;
        }

        .tap-target:hover {
            transform: scale(1.1);
        }

        .score {
            font-size: 24px;
            margin-top: 10px;
            font-weight: bold;
        }

        /* Анимация падающих снежинок */
        .snowflake {
            position: absolute;
            top: -10px;
            font-size: 24px;
            color: white;
            user-select: none;
            animation: snow-fall 10s linear infinite;
        }

        @keyframes snow-fall {
            0% {
                transform: translateX(0) translateY(-10px);
                opacity: 1;
            }
            100% {
                transform: translateX(100px) translateY(100vh);
                opacity: 0;
            }
        }

        /* Таблица лидеров */
        .leaderboard {
            margin-top: 30px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .leaderboard h2 {
            color: #FF69B4;
            font-size: 28px;
            margin-bottom: 20px;
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }

        .leaderboard-table th, .leaderboard-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid #ccc;
        }

        .leaderboard-table th {
            background-color: #FF69B4;
            color: white;
        }

        .leaderboard-table td {
            background-color: #222;
        }
    </style>
</head>
<body>

    <h1>Мини-игра: Тапай и зарабатывай!</h1>

    <div class="game-area">
        <!-- Мишень для кликов -->
        <div class="tap-target" onclick="earnCoins()"></div>

        <p class="score">Монеты: <span id="coinCount">0</span></p>

        <!-- Таблица лидеров -->
        <div class="leaderboard">
            <h2>Таблица лидеров</h2>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>Игрок</th>
                        <th>Монеты</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                    <!-- Здесь будут отображаться данные -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Снежинки -->
    <div class="snowflakes" id="snowflakes"></div>

    <script>
        // Инициализация данных
        let coinCount = 0;

        // Массив для хранения таблицы лидеров (в этом примере используется локальное хранилище)
        let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];

        // Функция для создания снежинок
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '❄';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 5 + 5 + 's';
            snowflake.style.fontSize = Math.random() * 10 + 20 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => {
                snowflake.remove();
            }, 10000);
        }

        // Создание снежинок каждые 300ms
        setInterval(createSnowflake, 300);

        // Функция для начисления монет
        function earnCoins() {
            coinCount++;
            document.getElementById('coinCount').innerText = coinCount;

            // Проверка на обновление таблицы лидеров
            updateLeaderboard();
        }

        // Функция обновления таблицы лидеров
        function updateLeaderboard() {
            // Считывание имени игрока (для простоты используем "Игрок")
            let playerName = 'Игрок'; // Здесь можно использовать prompt для ввода имени
            let newScore = { name: playerName, score: coinCount };

            // Добавляем новый результат в таблицу лидеров
            leaderboard.push(newScore);

            // Сортировка по убыванию монет
            leaderboard.sort((a, b) => b.score - a.score);

            // Оставляем только топ-5 игроков
            leaderboard = leaderboard.slice(0, 5);

            // Сохраняем таблицу лидеров в локальном хранилище
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));

            // Обновляем таблицу на странице
            displayLeaderboard();
        }

        // Функция для отображения таблицы лидеров
        function displayLeaderboard() {
            const leaderboardBody = document.getElementById('leaderboardBody');
            leaderboardBody.innerHTML = ''; // Очищаем таблицу перед перерисовкой

            leaderboard.forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${entry.name}</td>
                    <td>${entry.score}</td>
                `;
                leaderboardBody.appendChild(row);
            });
        }

        // Отображение таблицы при загрузке
        displayLeaderboard();

    </script>
</body>
</html>
